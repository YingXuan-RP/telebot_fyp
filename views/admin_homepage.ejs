<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Home - TeleBot Admin Portal</title>
<link rel="stylesheet" href="/css/style.css">
</head>

<body>

<div class="app-container">

<!-- Sidebar -->
<aside class="sidebar">

    <div class="sidebar-header">
        <h2>ü§ñ TeleBuy Admin</h2>
    </div>

    <nav class="sidebar-nav">

        <a href="/admin/homepage" class="nav-item">
            <span class="nav-icon">üìä</span>
            <span class="nav-text">Home</span>
        </a>

        <a href="/admin/categories" class="nav-item">
            <span class="nav-icon">üìÅ</span>
            <span class="nav-text">Categories</span>
        </a>

        <!-- Products Dropdown (KEEP) -->
        <div class="nav-dropdown">
            <button class="nav-dropdown-toggle">
                <div style="display:flex;align-items:center;">
                    <span class="nav-icon">üõçÔ∏è</span>
                    <span class="nav-text">Products</span>
                </div>
                <span class="dropdown-arrow">‚ñ∂</span>
            </button>

            <div class="nav-submenu">
                <a href="/admin/products" class="nav-item">All Products</a>
                <a href="/admin/inventory" class="nav-item">Inventory</a>
            </div>
        </div>

        <!-- Customers -->
        <a href="/users" class="nav-item">
            <span class="nav-icon">üë•</span>
            <span class="nav-text">Customers</span>
        </a>

        <!-- ‚úÖ Orders (NOW SIMPLE LINK) -->
        <a href="/orders" class="nav-item">
            <span class="nav-icon">üì¶</span>
            <span class="nav-text">Orders</span>
        </a>

        <a href="/discounts" class="nav-item">
            <span class="nav-icon">üè∑Ô∏è</span>
            <span class="nav-text">Discounts</span>
        </a>

        <a href="/analytics" class="nav-item">
            <span class="nav-icon">üìà</span>
            <span class="nav-text">Analytics</span>
        </a>

    </nav>

    <!-- Notifications -->
    <div class="sidebar-notifications">
        <div class="notifications-header">
            <span>Notifications</span>
            <span class="notifications-count" id="notifCount"></span>
        </div>

        <div class="notifications-list" id="notificationsList"></div>
    </div>

    <form action="/logout" method="POST">
        <button type="submit" class="btn btn-secondary btn-block">
            Logout
        </button>
    </form>

</aside>



<!-- ================= MAIN ================= -->
            <main class="main-content">

            <header class="content-header">
            <h1>Home</h1>
            <div class="user-info">
            <span id="adminName">Admin</span>
            </div>
            </header>

            <div class="content-body">

            <!-- ================= OUT OF STOCK ALERT ================= -->
            <div id="outOfStockAlert" class="alert-banner alert-danger" style="display:none;">
            <div class="alert-content">
            <span class="alert-icon">‚ö†Ô∏è</span>
            <div class="alert-text">
            <strong>Stock Alert!</strong>
            <span id="outOfStockMessage"></span>
            </div>
            </div>
            <button class="alert-close" onclick="this.parentElement.style.display='none'">√ó</button>
            </div>

            <!-- ================= WELCOME ================= -->
            <div class="welcome-card">
            <div class="welcome-content">
            <h2>Congratulations Admin! üéâ</h2>
            <p>You are managing the TeleBot e-commerce system</p>
            </div>
            <div class="welcome-icon">üéÅ</div>
            </div>

            <!-- ================= STATS ================= -->
            <div class="stats-grid">

            <div class="stat-card stat-card-blue">
            <div class="stat-card-header">
            <span class="stat-icon">üõí</span>
            <span>Total Orders</span>
            </div>
            <h3 id="totalOrders">0</h3>
            </div>

            <div class="stat-card stat-card-green">
            <div class="stat-card-header">
            <span class="stat-icon">üí∞</span>
            <span>Total Revenue</span>
            </div>
            <h3 id="totalRevenue">$0.00</h3>
            </div>

            </div>

            <!-- ================= SALES TARGET + TOP CATEGORY ================= -->
            <div class="section-grid">

            <!-- SALES PROGRESS -->
            <div class="card card-large">
            <div class="card-header-flex">
            <h2>Sales Target Progress</h2>
            </div>

            <div style="padding:20px">

            <div style="display:flex;justify-content:space-between;margin-bottom:8px;">
            <span>Monthly Target</span>
            <strong id="salesTargetPercent">0%</strong>
            </div>

            <div style="width:100%;height:20px;background:#e5e7eb;border-radius:10px;overflow:hidden;">
            <div id="salesTargetBar"
            style="width:0%;height:100%;background:linear-gradient(90deg,#10b981,#059669);transition:0.6s;"></div>
            </div>

            <div style="margin-top:10px;color:#6b7280;">
            Revenue: <strong id="currentRevenue">$0</strong> /
            Target: <strong id="targetRevenue">$5000</strong>
            </div>

            </div>
            </div>

            <!-- TOP CATEGORY -->
            <div class="card card-large">
            <div class="card-header-flex">
            <h2>Top Categories</h2>
            </div>

            <div id="topCategoriesList" style="padding:20px">
            <!-- JS WILL INJECT -->
            </div>

            </div>

            </div>

            <!-- ================= PRODUCTS / CATEGORY QUICK ================= -->
            <div class="section-grid">

            <div class="card">
            <div class="quick-stats">
            <div class="quick-stat-item">
            <strong id="totalProducts">0</strong>
            <p>Total Products</p>
            </div>

            <div class="quick-stat-item">
            <strong id="totalCategories">0</strong>
            <p>Categories</p>
            </div>
            </div>
            </div>

            <div class="card">
            <h2>Low Stock Alert</h2>
            <div id="lowStockList"></div>
            </div>

            </div>

            <!-- ================= RECENT ORDERS ================= -->
            <div class="card">
            <h2>Recent Orders</h2>

            <div class="table-container">
            <table class="data-table">
            <thead>
            <tr>
            <th>Order #</th>
            <th>Customer</th>
            <th>Items</th>
            <th>Amount</th>
            <th>Status</th>
            <th>Date</th>
            </tr>
            </thead>

            <tbody id="recentOrdersTable">
            <tr>
            <td colspan="6" class="text-center">Loading...</td>
            </tr>
            </tbody>

            </table>
            </div>
            </div>

            </div>
            </main>

            </div>

            <script src="/js/common.js"></script>
            <script src="/js/dashboard.js"></script>

            </body>
            </html>
